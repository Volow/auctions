{% extends "auctions/layout.html" %}

{% block title %}
    Lot Details
{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col">
            <h3 class="text-center">Lot: {{lot.lot_title}}</h3>        
            <strong>Descriptions:</strong>
            <p>{{lot.lot_description}}</p>
            <strong>Catigory:</strong> {{lot.lot_catigory}} <br>
            <strong>Prise: </strong>${{lot.lot_price|floatformat:"2g"}}
            <img src="{{ lot.lot_img.url }}" class="img-fluid rounded float-start" alt="Lot Img">
        </div>
        <div class="col">
            
            <div style="max-height: 300px;
                        overflow: auto;
                        border: solid 1px rgb(201, 201, 201);
                        padding: 20px;
                        border-radius: 5px;">

                {% for comment in comments%}
              
                <figure>
                    <blockquote class="blockquote">
                        <p>{{comment.comment_text}}</p>
                    </blockquote>
                    <figcaption class="blockquote-footer">
                        {{comment.comment_user_name}} <cite title="Source Title">{{comment.comment_data_create}}</cite>
                    </figcaption>
                </figure>

                {% endfor %}
            
            </div>

            <br>

            <form action="{% url 'comment_add_url' lot_id=lot.id %}" method="post">
                {% csrf_token %}
                <div class="mb-3">
                    {% if comment_form.comment_text.errors %}
                        <div class="alert alert-danger">
                            {{ comment_form.comment_text.errors }}
                        </div>
                    {% endif %}
                    {{comment_form.comment_text}}
                </div>                
                <button type="submit" class="btn btn-primary">Add Comment</button>
            </form>                    
            
        </div>      
    </div>
  </div>
{% endblock %}